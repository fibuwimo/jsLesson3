<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<title>jsレッスン</title>
</head>
<body>
<table id="table" border="1"></table>
<script>
window.onload=function(){
    var table=document.getElementById("table");
    for(var i=1;i<=9;i++){
        var tr=document.createElement("tr");
        for(var j=1;j<=9;j++){
        var td=document.createElement("td");
        td.textContent=i+"*"+j+"=";
        td.x=i;
        td.y=j;
        td.ans=i*j;
        td.addEventListener("mouseover",(e)=>{
        e.target.style.textDecoration="underline";
        });
        td.addEventListener("mouseleave",(e)=>{
        e.target.style.textDecoration="none";
        });
        td.addEventListener("click",(e)=>{
            let selectedTD=e.target;
        const userAns=window.prompt(`${selectedTD.x}x${selectedTD.y}=`);
        if(selectedTD.ans == parseInt(userAns)){
            selectedTD.style.backgroundColor="lightgreen";
            selectedTD.textContent =`${selectedTD.x}x${selectedTD.y}=${selectedTD.ans}`;
        }else{
            selectedTD.style.backgroundColor="pink";
        }
        });
        tr.append(td);
        }
        table.append(tr)
    }
};
</script>
</body>
</html>